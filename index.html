<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Glass UI Panel</title>
<style>
  html,body {
    margin:0;padding:0;height:100%;overflow:hidden;
    font-family:"Segoe UI",Roboto,Arial,sans-serif;
    background:transparent;color:#eaf1ff;
  }

  #overlay {
    position:fixed;right:40px;top:50%;
    transform:translateY(-50%);
    z-index:1000;animation:fadeIn .3s ease-out;
  }
  @keyframes fadeIn{from{opacity:0;transform:translate(60px,-50%);}to{opacity:1;transform:translate(0,-50%);}}

  .menu {
    width:360px;
    background:rgba(15,23,42,0.55);
    backdrop-filter:blur(18px);
    border-radius:14px;
    border:1px solid rgba(120,150,255,0.25);
    box-shadow:0 8px 24px rgba(0,0,0,0.35);
    overflow:hidden;display:flex;flex-direction:column;
  }

  .menu-header {
    background:linear-gradient(90deg,#3b82f6,#1e3a8a);
    padding:14px 0;
    text-align:center;
    font-size:22px;
    font-weight:600;
    color:#fff;
    letter-spacing:.5px;
    text-shadow:0 0 8px rgba(0,0,0,.4);
  }

  .menu-list {
    padding:10px 16px;
    flex:1;
    transition:transform .3s ease,opacity .3s ease;
  }
  .menu-list.hidden { display:none; }

  .menu-item {
    background:rgba(255,255,255,0.07);
    border-radius:10px;
    padding:10px 14px;
    margin:6px 0;
    display:flex;justify-content:space-between;align-items:center;
    font-size:16px;
    transition:all .15s ease-in-out;
  }
  .menu-item.selected {
    background:rgba(59,130,246,0.25);
    box-shadow:-3px 0 10px rgba(59,130,246,0.3);
    color:#fff;
  }

  .toggle {
    width:34px;
    height:18px;
    border-radius:20px;
    background:rgba(255,255,255,0.25);
    position:relative;
    transition:.25s;
  }
  .toggle::before {
    content:"";
    position:absolute;
    top:2px;left:2px;
    width:14px;height:14px;
    border-radius:50%;
    background:white;
    transition:.25s;
  }
  .toggle.active {
    background:#3b82f6;
  }
  .toggle.active::before {
    transform:translateX(16px);
  }

  .menu-footer {
    border-top:1px solid rgba(255,255,255,0.07);
    padding:8px 14px;
    font-size:12px;
    color:rgba(255,255,255,0.6);
    display:flex;justify-content:space-between;
  }
</style>
</head>
<body>
<div id="overlay">
  <div class="menu" id="menuBox">
    <div class="menu-header" id="menuTitle">Control Panel</div>

    <!-- MAIN -->
    <div class="menu-list" id="mainMenu">
      <div class="menu-item" data-open="self">Self Options ›</div>
      <div class="menu-item" data-open="spawner">Spawner ›</div>
      <div class="menu-item" data-open="online">Online ›</div>
      <div class="menu-item" data-open="misc">Misc ›</div>
    </div>

    <!-- SELF -->
    <div class="menu-list hidden" id="menu-self">
      <div class="menu-item" data-type="toggle">God Mode <div class="toggle"></div></div>
      <div class="menu-item" data-type="toggle">Invisibility <div class="toggle"></div></div>
      <div class="menu-item">Set Health: 100</div>
      <div class="menu-item">Set Armor: 100</div>
      <div class="menu-item" data-type="toggle">Infinite Stamina <div class="toggle"></div></div>
    </div>

    <!-- SPAWNER -->
    <div class="menu-list hidden" id="menu-spawner">
      <div class="menu-item">Spawn Vehicle</div>
      <div class="menu-item">Spawn Object</div>
      <div class="menu-item">Clear Area</div>
    </div>

    <!-- ONLINE -->
    <div class="menu-list hidden" id="menu-online">
      <div class="menu-item">Player List</div>
      <div class="menu-item">Teleport to Player</div>
      <div class="menu-item">Send Message</div>
    </div>

    <!-- MISC -->
    <div class="menu-list hidden" id="menu-misc">
      <div class="menu-item">Weather Control</div>
      <div class="menu-item">Time Control</div>
      <div class="menu-item">UI Settings</div>
    </div>

    <div class="menu-footer"><div>UI v1.6</div><div>© 2025</div></div>
  </div>
</div>

<script>
(function(){
  const title=document.getElementById('menuTitle');
  const main=document.getElementById('mainMenu');
  const menus={
    self:document.getElementById('menu-self'),
    spawner:document.getElementById('menu-spawner'),
    online:document.getElementById('menu-online'),
    misc:document.getElementById('menu-misc')
  };
  let currentMenu='main';
  let selectedIndex=0;

  function getCurrentList(){
    if(currentMenu==='main')return main;
    return menus[currentMenu];
  }

  function updateSelection(){
    const list=getCurrentList();
    const items=list.querySelectorAll('.menu-item');
    items.forEach((el,i)=>el.classList.toggle('selected',i===selectedIndex));
  }

  function showMenu(name){
    main.classList.add('hidden');
    for(const k in menus)menus[k].classList.add('hidden');
    if(name==='main'){
      main.classList.remove('hidden');
      title.textContent='Control Panel';
      currentMenu='main';
    }else{
      menus[name].classList.remove('hidden');
      title.textContent=name.charAt(0).toUpperCase()+name.slice(1)+' Options';
      currentMenu=name;
    }
    selectedIndex=0;
    updateSelection();
  }

  // initial highlight
  updateSelection();

  document.addEventListener('keydown',e=>{
    const list=getCurrentList();
    const items=list.querySelectorAll('.menu-item');
    if(!items.length)return;

    if(e.key==='ArrowDown'){
      selectedIndex=(selectedIndex+1)%items.length;
      updateSelection();
      e.preventDefault();
    }
    else if(e.key==='ArrowUp'){
      selectedIndex=(selectedIndex-1+items.length)%items.length;
      updateSelection();
      e.preventDefault();
    }
    else if(e.key==='Enter'){
      const item=items[selectedIndex];
      if(!item)return;
      const open=item.dataset.open;
      const type=item.dataset.type;
      if(open){ // go into submenu
        showMenu(open);
      }else if(type==='toggle'){ // toggle switch
        const toggle=item.querySelector('.toggle');
        const active=toggle.classList.toggle('active');
        // send to Lua if needed
        const res=(typeof GetParentResourceName==='function')?GetParentResourceName():null;
        if(res){
          fetch(`https://${res}/menuAction`,{
            method:'POST',
            headers:{'Content-Type':'application/json'},
            body:JSON.stringify({option:item.textContent.trim(),enabled:active})
          });
        }
      }
    }
    else if(e.key==='Backspace'){
      if(currentMenu!=='main') showMenu('main');
      else {
        const res=(typeof GetParentResourceName==='function')?GetParentResourceName():null;
        if(res){fetch(`https://${res}/close`,{method:'POST',body:'{}'});}
        else document.getElementById('overlay').style.display='none';
      }
    }
  });
})();
</script>
</body>
</html>
