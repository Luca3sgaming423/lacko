<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Glass UI Panel</title>
<style>
  html,body {
    margin:0;padding:0;height:100%;overflow:hidden;
    font-family:"Segoe UI",Roboto,Arial,sans-serif;
    background:transparent;
    color:#eaf1ff;
  }

  /* anchored right center */
  #overlay {
    position:fixed;
    right:40px;
    top:50%;
    transform:translateY(-50%);
    pointer-events:auto;
    z-index:1000;
    animation:fadeIn .3s ease-out;
  }
  @keyframes fadeIn {from{opacity:0;transform:translate(60px,-50%);}to{opacity:1;transform:translate(0,-50%);} }

  /* main menu container */
  .menu {
    width:360px;
    background:rgba(15,23,42,0.55);
    backdrop-filter:blur(18px);
    border-radius:14px;
    border:1px solid rgba(120,150,255,0.25);
    box-shadow:0 8px 24px rgba(0,0,0,0.35);
    overflow:hidden;
    display:flex;
    flex-direction:column;
  }

  .menu-header {
    background:linear-gradient(90deg,#3b82f6,#1e3a8a);
    padding:14px 0;
    font-size:22px;
    font-weight:600;
    color:#fff;
    letter-spacing:.5px;
    text-align:center;
    text-shadow:0 0 8px rgba(0,0,0,0.4);
  }

  /* tab bar */
  .tab-bar {
    display:flex;
    justify-content:space-around;
    border-bottom:1px solid rgba(255,255,255,0.1);
    background:rgba(255,255,255,0.05);
  }
  .tab {
    flex:1;
    text-align:center;
    padding:10px 0;
    cursor:pointer;
    font-weight:500;
    font-size:15px;
    color:rgba(255,255,255,0.8);
    transition:all .2s ease;
  }
  .tab:hover {background:rgba(255,255,255,0.08);}
  .tab.active {
    background:linear-gradient(90deg,#3b82f6,#2563eb);
    color:#fff;
  }

  .menu-content {
    flex:1;
    padding:12px 16px;
  }

  .menu-section {
    display:none;
  }
  .menu-section.active {display:block;}

  .menu-item {
    background:rgba(255,255,255,0.07);
    border-radius:10px;
    padding:10px 14px;
    margin:6px 0;
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size:16px;
    cursor:pointer;
    transition:all .15s ease-in-out;
  }
  .menu-item:hover {
    background:rgba(255,255,255,0.12);
    transform:translateX(-4px);
  }

  /* toggle switch */
  .switch {
    position: relative;
    display: inline-block;
    width: 38px;
    height: 20px;
  }
  .switch input { display:none; }
  .slider {
    position:absolute;
    cursor:pointer;
    top:0;left:0;right:0;bottom:0;
    background-color:rgba(255,255,255,0.25);
    transition:.3s;border-radius:20px;
  }
  .slider:before {
    position:absolute;content:"";
    height:16px;width:16px;
    left:2px;bottom:2px;
    background-color:#fff;
    border-radius:50%;
    transition:.3s;
  }
  input:checked + .slider {background-color:#3b82f6;}
  input:checked + .slider:before {transform:translateX(18px);}

  /* footer */
  .menu-footer {
    border-top:1px solid rgba(255,255,255,0.07);
    padding:8px 14px;
    font-size:12px;
    color:rgba(255,255,255,0.6);
    display:flex;justify-content:space-between;
  }

  /* notifications */
  #notifications {
    position:fixed;
    bottom:30px;
    right:40px;
    width:260px;
    display:flex;
    flex-direction:column;
    gap:10px;
    z-index:1100;
  }
  .notif {
    background:rgba(30,41,59,0.7);
    backdrop-filter:blur(10px);
    border-left:3px solid #3b82f6;
    color:#eaf1ff;
    padding:10px 12px;
    border-radius:8px;
    font-size:14px;
    opacity:0;
    transform:translateX(40px);
    animation:notifIn .3s forwards, notifOut .3s 4.7s forwards;
  }
  @keyframes notifIn { to{opacity:1;transform:translateX(0);} }
  @keyframes notifOut { to{opacity:0;transform:translateX(40px);} }
</style>
</head>
<body>
<div id="overlay">
  <div class="menu" id="menuBox">
    <div class="menu-header">Control Panel</div>
    <div class="tab-bar">
      <div class="tab active" data-tab="self">Self</div>
      <div class="tab" data-tab="spawner">Spawner</div>
      <div class="tab" data-tab="online">Online</div>
      <div class="tab" data-tab="misc">Misc</div>
    </div>

    <div class="menu-content">
      <!-- Self -->
      <div class="menu-section active" id="tab-self">
        <div class="menu-item" data-action="godmode">God Mode
          <label class="switch"><input type="checkbox"><span class="slider"></span></label>
        </div>
        <div class="menu-item" data-action="invisibility">Invisibility
          <label class="switch"><input type="checkbox"><span class="slider"></span></label>
        </div>
        <div class="menu-item" data-action="health">Set Health <span>100</span></div>
        <div class="menu-item" data-action="armor">Set Armor <span>100</span></div>
      </div>

      <!-- Spawner -->
      <div class="menu-section" id="tab-spawner">
        <div class="menu-item">Spawn Vehicle</div>
        <div class="menu-item">Spawn Object</div>
        <div class="menu-item">Clear Nearby</div>
      </div>

      <!-- Online -->
      <div class="menu-section" id="tab-online">
        <div class="menu-item">Show Player List</div>
        <div class="menu-item">Teleport to Player</div>
        <div class="menu-item">Send Message</div>
      </div>

      <!-- Misc -->
      <div class="menu-section" id="tab-misc">
        <div class="menu-item">Weather Control</div>
        <div class="menu-item">Time Control</div>
        <div class="menu-item">UI Settings</div>
      </div>
    </div>

    <div class="menu-footer">
      <div>UI Build 1.4</div><div>Â© 2025</div>
    </div>
  </div>
</div>

<div id="notifications"></div>

<script>
(function(){
  const tabs = document.querySelectorAll('.tab');
  const sections = document.querySelectorAll('.menu-section');
  const notifBox=document.getElementById('notifications');
  const items=[...document.querySelectorAll('.menu-item')];
  let idx=0;

  // tab switching
  tabs.forEach(tab=>{
    tab.addEventListener('click',()=>{
      tabs.forEach(t=>t.classList.remove('active'));
      tab.classList.add('active');
      const name=tab.dataset.tab;
      sections.forEach(s=>s.classList.toggle('active',s.id==='tab-'+name));
    });
  });

  function showNotif(msg){
    const n=document.createElement('div');
    n.className='notif';n.textContent=msg;
    notifBox.appendChild(n);
    setTimeout(()=>notifBox.removeChild(n),5000);
  }

  function sendAction(act){
    showNotif('Selected: '+act);
    const res=(typeof GetParentResourceName==='function')?GetParentResourceName():null;
    if(res){
      fetch(`https://${res}/menuAction`,{
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body:JSON.stringify({action:act})
      });
    }
  }

  window.addEventListener('keydown',e=>{
    if(e.key==='Backspace'||e.key==='Escape'){
      const res=(typeof GetParentResourceName==='function')?GetParentResourceName():null;
      if(res){fetch(`https://${res}/close`,{method:'POST',body:'{}'});}
      else document.getElementById('overlay').style.display='none';
    }
  });

  items.forEach(el=>{
    el.addEventListener('click',()=>sendAction(el.dataset.action || el.textContent.trim()));
  });

  window.addEventListener('message',ev=>{
    const d=ev.data;if(!d)return;
    if(d.action==='notify'&&d.text)showNotif(d.text);
  });
})();
</script>
</body>
</html>
